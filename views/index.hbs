<body id="wrapper">
  <div id="home">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 col-md-12 col-sm-12">

          <h3><img style="max-width: 1em;" src="/img/treffen-logo1.png" alt="treffen meetup app">TRY</h3>
          <p>Type in zip codes separated by commas to find your place to meet.</p>
          <form action="/zip" method="post">
          <div class="input-group input-group-lg">
            <span class="input-group-addon" id="sizing-addon1">></span>
            <input type="text" class="form-control" name="zip" placeholder="Zip Codes" aria-label="Username" aria-describedby="sizing-addon1">
          </div>
          <br>
          <select class="form-control" name="categories" id="select-cat" placeholder="Select a category">
            <option selected >Select a category</option>
            <option value="coffee">Coffee</option>
            <option value="tea">Tea</option>
          </select>
          <br>
            <button type="submit" name="button" id="submit" class="btn btn-lg btn-success">Go</button>
          </form>
        </div>
        <div class="col-lg-6 col-md-12 col-sm-12">
          <!-- <img src="/img/map.jpg"> -->
          <div id="map"></div>
          <script>

          function initMap() {
            var uluru = {
              lat: -25.363,
              lng: 131.044
            };
            var h = {
              lat: 29.363,
              lng: -95.044
            };
            var map = new google.maps.Map(document.getElementById('map'), {
              zoom: 4,
              center: h
            });

            var marker = new google.maps.Marker({
              position: uluru,
              map: map
            });

            infoWindow = new google.maps.InfoWindow;
            // Try HTML5 geolocation.
            if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                var pos = {
                  lat: position.coords.latitude,
                  lng: position.coords.longitude
                };

                infoWindow.setPosition(pos);
                infoWindow.setContent('You are here.');
                infoWindow.open(map);
                map.setCenter(pos);
              }, function() {
                handleLocationError(true, infoWindow, map.getCenter());
              });
            } else {
              // Browser doesn't support Geolocation
              handleLocationError(false, infoWindow, map.getCenter());
            }

            map.data.addListener('click', function(event){
             var infoWindow = new google.maps.InfoWindow({
               content: (
                 "<strong>Name:</strong> " +
                 event.feature.getProperty('name') +
                 "<br>" +
                 "<strong>Category:</strong> " +
                 event.feature.getProperty('categories') +
                 "<br>" +
                 "<strong>Phone:</strong> " +
                 event.feature.getProperty('phone') +
                 "<br>" +
                 "<strong>Address:</strong> " + "<br>" +
                 event.feature.getProperty('address1') + " " + event.feature.getProperty('address1')
              ),
               pixelOffset: new google.maps.Size(0, -40)
             });
             console.log(event);

              infoWindow.open(map);
              infoWindow.setPosition(event.latLng);
            });

            map.addListener('bounds_changed', function() {
              initialViewPort = map.getBounds();
              minx = initialViewPort.b.b;
              maxx = initialViewPort.b.f;
              miny = initialViewPort.f.b;
              maxy = initialViewPort.f.f;


                // myData();
            axios.get('/data/data.geojson')
              .then(results => {
                console.log(results)
                map.data.addGeoJson(results.data)
              })
              .catch(err=>{
                console.log(err)
              })
            });
          }

          function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                  infoWindow.setPosition(pos);
                  infoWindow.setContent(browserHasGeolocation ?
                                        'Error: The Geolocation service failed.' :
                                        'Error: Your browser doesn\'t support geolocation.');
                  infoWindow.open(map);
               }
          </script>
          <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgoZvBqDWjincCBsmGIGgcEZCDCDNuFzc&callback=initMap">
          </script>
        </div>
      </div>
      <!-- test button area -->
      <form class="" action="/category" method="post">
        <button type="submit" class="btn btn-success btn-lg"name="button">Yelp category</button>
      </form>
      <form class="" action="/google-map" method="post">
        <button type="submit" name="button" class="btn btn-lg btn-info">Google Distance Matrix</button>
      </form>
    </div>
  </div>

  <div id="what">
    <h1>What is Treffen?</h1>
    <p> Treffen is the most socialist meetup app. No one person drives further nor sits in traffic longer than the other. Try it today!</p>
  </div>

  <div id="about">
    <h1>Creators of Treffen</h1>
    <div class="container-fluid">

      <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-8">
          <img class="selfie" src="http://i.imgur.com/AMDmKUk.jpg"> </img>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-8">
          <h3>Juliana Mei</h3>
          <p>Duis sagittis justo pharetra, egestas quam vel, iaculis odio. Ut condimentum ullamcorper felis eu pellentesque. Maecenas non pellentesque ante. Duis consectetur sem lorem, in faucibus velit ultrices sed. Sed at nulla lacus.</p>
        </div>
      </div>


      <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-8">
          <img class="selfie" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/7/005/02e/34c/38764c8.jpg"></div>
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-8">
          <h3>Ahmer Malik</h3>
          <p>Duis sagittis justo pharetra, egestas quam vel, iaculis odio. Ut condimentum ullamcorper felis eu pellentesque. Maecenas non pellentesque ante. Duis consectetur sem lorem, in faucibus velit ultrices sed. Sed at nulla lacus.</p>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-8">
          <img class="selfie" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/AAEAAQAAAAAAAAqKAAAAJGYyNjcxOGM0LWM2ZDUtNDAxMC1hZjhlLTFlMWJkYWEyY2ZmNA.jpg"></div>
        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-6">
          <h3>Halcyon Ramirez</h3>
          <p>Duis sagittis justo pharetra, egestas quam vel, iaculis odio. Ut condimentum ullamcorper felis eu pellentesque. Maecenas non pellentesque ante. Duis consectetur sem lorem, in faucibus velit ultrices sed. Sed at nulla lacus.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="contact">
    <div class="container text-center">
      <h1>Let's Get in Touch!</h1>
      <hr class="primary">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-8">
          <a href="https://www.linkedin.com/in/julianamei/" class="btn btn-default" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
          <a href="https://github.com/julianapeace" class="btn btn-default" target="_blank"><i class="fa fa-github fa-2x"></i></a>
          <a href="https://drive.google.com/file/d/0B8WXGA1XF7uVQnUtcXl0QVR0MVE/view?usp=sharing" class="btn btn-default" target="_blank"><i class="fa fa-file-text-o fa-2x"></i></a>
          <div class="row">
            <div class="col-md-6 text-center">
              <i class="fa fa-phone fa-4x"></i>
              <p>917-387-5481</p>
            </div>
            <div class="col-md-6 text-center">
              <i class="fa fa-envelope-o fa-4x"></i>
              <p><a href="mailto:chancecordelia@gmail.com">treffenwebapp@gmail.com</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
